(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){e.exports=a(306)},116:function(e,t,a){},117:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},118:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),i=a.n(r),s=(a(116),a(21)),o=a(22),c=a(24),u=a(23),m=a(25),d=(a(117),a(118),a(27)),h=a(109),p=a.n(h),f=(a(77),a(26)),v=a(36),E=a.n(v),b=a(35),g=a.n(b),y=a(47),x=a.n(y),w=a(49),C=a.n(w),O=a(50),j=a.n(O),S=a(19),k=a.n(S),R=a(48),J=a.n(R),M=a(18),N=a.n(M),D=a(51),F=a.n(D);function I(e){var t=e.children,a=e.dir;return l.a.createElement(J.a,{component:"div",dir:a,style:{padding:24}},t)}var T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={value:0},a.handleChange=function(e,t){a.setState({value:t})},a.handleChangeIndex=function(e){a.setState({value:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme;return l.a.createElement("div",{className:t.root},l.a.createElement(C.a,{position:"static",color:"default"},l.a.createElement(j.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},l.a.createElement(k.a,{label:"Xem Confidence"}),l.a.createElement(k.a,{label:"Xem JSON"}),l.a.createElement(k.a,{label:"L\u1ea5y th\xf4ng tin"}))),l.a.createElement(x.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleChangeIndex},l.a.createElement(I,{dir:a.direction},"Item One"),l.a.createElement(I,{dir:a.direction},"Item Two"),l.a.createElement(I,{dir:a.direction},"Item Three")))}}]),t}(l.a.Component);Object(f.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,width:500}}},{withTheme:!0})(T);function W(e){var t=e.children,a=e.dir;return l.a.createElement(J.a,{component:"div",dir:a,style:{padding:24}},t)}var L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={value:0,isCMND:!1,isInfo:!1,arrayText:null},a.handleChange=function(e,t){a.setState({value:t})},a.handleChangeIndex=function(e){a.setState({value:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"renderLabel",value:function(){if(null!==this.props.labelResult)return l.a.createElement("div",null,this.props.labelResult.labels.map(function(e){return l.a.createElement("div",null,l.a.createElement("div",{class:"label-flex-progress"},l.a.createElement("span",null,e.description),l.a.createElement("span",null,Math.round(100*e.score),"%")),l.a.createElement(F.a,{variant:"determinate",value:Math.round(100*e.score)}))}),l.a.createElement("div",{class:"label-span"},"JSON"),l.a.createElement(N.a,{multiline:!0,rows:2,rowsMax:10,value:JSON.stringify(this.props.labelResult.json),fullWidth:!0}))}},{key:"renderLogo",value:function(){var e=this.props.logoResult;if(null!==e)return l.a.createElement("div",null,e.logos.map(function(e){return l.a.createElement("div",null,l.a.createElement("div",{class:"label-flex-progress"},l.a.createElement("span",null,e.description),l.a.createElement("span",null,Math.round(100*e.score),"%")),l.a.createElement(F.a,{variant:"determinate",value:Math.round(100*e.score)}))}),l.a.createElement("h3",{class:"label-span"},"JSON"),l.a.createElement(N.a,{multiline:!0,rows:2,rowsMax:10,value:JSON.stringify(e.json),fullWidth:!0}))}},{key:"renderWeb",value:function(){var e=this.props.webResult;if(null!==e)return l.a.createElement("div",null,l.a.createElement("h3",null,"Web entities"),e.webEntities.map(function(e){return l.a.createElement("div",null,l.a.createElement("div",{class:"label-flex-progress"},l.a.createElement("span",null,e.description),l.a.createElement("span",null,Math.round(100*e.score),"%")),l.a.createElement(F.a,{variant:"determinate",value:Math.round(100*e.score)}))}),l.a.createElement("h3",{class:"label-span"},"JSON"),l.a.createElement(N.a,{multiline:!0,rows:2,rowsMax:10,value:JSON.stringify(e.json),fullWidth:!0}))}},{key:"checkCMND",value:function(){var e=this.props.webResult,t=this.props.logoResult,a=!1,n=!1,l=!1;this.props.labelResult.labels.forEach(function(e){"identity document"===e.description.toLowerCase().trim()&&Math.round(e.score)>=.5&&(a=!0)}),e.webEntities.forEach(function(e){"ch\u1ee9ng minh nh\xe2n d\xe2n"===e.description.toLowerCase().trim()&&Math.round(e.score)>=.5&&(n=!0)}),t.logos.forEach(function(e){"ch\u1ee9ng minh nh\xe2n d\xe2n"===e.description.toLowerCase().trim()&&Math.round(e.score)>=.5&&(l=!0)}),this.setState({isCMND:a&&l&&n&&1===this.props.numberFaces})}},{key:"getInfo",value:function(){this.setState({isInfo:!0})}},{key:"renderDocument",value:function(e,t){if(0!==e.length)return l.a.createElement(N.a,{id:"outlined-name",label:"D\xf2ng"+t,value:e,margin:"normal",variant:"outlined"})}},{key:"renderInfo",value:function(e,t,a){if(0!==e.length){var n=e.toString(),r="";if(3===t&&(r=" - S\u1ed1 CMND",n=-1!==n.indexOf(":")?n.slice(n.indexOf(":")):n.slice(2)),4===t&&(r=" - H\u1ecd v\xe0 t\xean",n=n.slice(7)+" "+a[5].split(".").join("")),6===t&&(r=" - Sinh ng\xe0y",n=n.slice(10)),7===t&&(r=" - Nguy\xean qu\xe1n",n=n.slice(12)+" "+a[8].split(".").join("")),9===t&&(r=" - N\u01a1i \u0110KHK th\u01b0\u1eddng tr\xfa",n=n.slice(20)+" "+a[10].split(".").join("")),5!==t&&8!==t&&10!==t)return l.a.createElement(N.a,{id:"outlined-name",label:"D\xf2ng"+t+r,value:n.split(".").join(""),margin:"normal",variant:"outlined"})}}},{key:"componentWillMount",value:function(){this.checkCMND();var e=this.props.fullText.split("\n");this.setState({arrayText:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return l.a.createElement("div",{class:a.root},l.a.createElement(C.a,{position:"static",color:"default"},l.a.createElement(j.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},l.a.createElement(k.a,{label:"Document"}),l.a.createElement(k.a,{label:"Face"}),l.a.createElement(k.a,{label:"Label"}),l.a.createElement(k.a,{label:"Logo"}),l.a.createElement(k.a,{label:"Web"}))),l.a.createElement(x.a,{axis:"rtl"===n.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleChangeIndex},l.a.createElement(W,{dir:n.direction},l.a.createElement("div",null,this.state.isInfo?l.a.createElement("div",null,l.a.createElement(E.a,{variant:"outlined",color:"primary",onClick:function(){e.setState({isInfo:!1})}},"Quay l\u1ea1i"),l.a.createElement("br",null),this.state.arrayText.map(function(t,a){return e.renderInfo(t,a,e.state.arrayText)})):l.a.createElement("div",null,l.a.createElement("div",null,this.state.arrayText.map(function(t,a){return e.renderDocument(t,a)})),this.state.isCMND?l.a.createElement(E.a,{variant:"outlined",color:"primary",onClick:function(){e.getInfo()}},"L\u1ea5y th\xf4ng tin"):null,l.a.createElement("div",{class:"flex-container"},l.a.createElement("div",{class:"sub1"},l.a.createElement("h3",{class:"label-span"},"Confidence"),l.a.createElement("div",null,l.a.createElement(N.a,{multiline:!0,rows:2,rowsMax:10,value:this.props.document,fullWidth:!0}))),l.a.createElement("div",{class:"sub1"},l.a.createElement("h3",{class:"label-span"},"JSON"),l.a.createElement("div",null,l.a.createElement(N.a,{multiline:!0,rows:2,rowsMax:10,value:JSON.stringify(this.props.docJson),fullWidth:!0}))))))),l.a.createElement(W,{dir:n.direction},l.a.createElement("div",null,"S\u1ed1 khu\xf4n m\u1eb7t: ",this.props.numberFaces),l.a.createElement("br",null),this.props.cropFiles.map(function(e){return l.a.createElement("img",{src:e,alt:"\u1ea2nh crop",height:"250",width:"250"})}),l.a.createElement("div",{class:"sub1"},l.a.createElement("h3",{class:"label-span"},"JSON"),l.a.createElement("div",null,l.a.createElement(N.a,{multiline:!0,rows:2,rowsMax:10,value:JSON.stringify(this.props.faceJson),fullWidth:!0})))),l.a.createElement(W,{dir:n.direction},this.renderLabel()),l.a.createElement(W,{dir:n.direction},this.renderLogo()),l.a.createElement(W,{dir:n.direction},this.renderWeb())))}}]),t}(l.a.Component),P=Object(f.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,width:1e3,height:400}}},{withTheme:!0})(L),U=a(70),K=a.n(U),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={file:null,isPending:!1,isUpload:!1,isProcess:!1,imagePath:null,text:null,numFaces:0,isClickFace:!1,isClickDocument:!0,cropFiles:null,labelResult:null,webResult:null,fullText:null,docJson:null,faceJson:null,logoResult:null},a.onFormSubmit=a.onFormSubmit.bind(Object(d.a)(Object(d.a)(a))),a.onChange=a.onChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onFormSubmit",value:function(e){var t=this;if(null!==this.state.file){this.setState({isPending:!0,isProcess:!0,isUpload:!1}),e.preventDefault();var a=new FormData;a.append("myImage",this.state.file);p.a.post("https://mhaik36server2.herokuapp.com/upload",a,{headers:{"content-type":"multipart/form-data"}}).then(function(e){t.setState({isUpload:!0,isPending:!1,imagePath:e.data.filename,text:e.data.textDetection.content,numFaces:e.data.Detectface.numFaces,cropFiles:e.data.Detectface.cropFiles,labelResult:e.data.labelResult,webResult:e.data.webResult,fullText:e.data.textDetection.fullText,docJson:e.data.textDetection.json,faceJson:e.data.Detectface.json,logoResult:e.data.logoResult}),console.log("json:"+JSON.stringify(e.data.logoResult))}).catch(function(e){})}else alert("Vui l\xf2ng ch\u1ecdn file")}},{key:"onChange",value:function(e){this.setState({file:e.target.files[0],isPending:!1,isUpload:!1,isProcess:!1})}},{key:"renderResult",value:function(){return this.state.isUpload?l.a.createElement("div",null,l.a.createElement(P,{docJson:this.state.docJson,fullText:this.state.fullText,document:this.state.text,numberFaces:this.state.numFaces,faceJson:this.state.faceJson,cropFiles:this.state.cropFiles,labelResult:this.state.labelResult,webResult:this.state.webResult,logoResult:this.state.logoResult})):l.a.createElement("div",{class:"spinner"},l.a.createElement(K.a,null),l.a.createElement("span",{style:{marginLeft:"5px"}},"\u0110ang x\u1eed l\xfd..."))}},{key:"render",value:function(){var e=this.props.classes;return l.a.createElement("div",{class:"upload-container"},l.a.createElement("form",{onSubmit:this.onFormSubmit},l.a.createElement("h1",null,"Detecting text in a image"),l.a.createElement(g.a,{type:"file",variant:"outlined",name:"myImage",onChange:this.onChange}),l.a.createElement(E.a,{type:"submit",variant:"outlined",color:"primary",className:e.button},"Upload")),l.a.createElement("div",{class:"flex-container"},l.a.createElement("div",{class:"sub1"},l.a.createElement("h3",null," \u1ea2nh "),this.state.isPending?l.a.createElement("div",{class:"spinner"},l.a.createElement(K.a,null),l.a.createElement("span",{style:{marginLeft:"5px"}},"\u0110ang \u0111\u1ee3i l\u1ea5y \u1ea3nh...")):null,this.state.isUpload?l.a.createElement("div",null,l.a.createElement("img",{src:"https://mhaik36server2.herokuapp.com/uploads/"+this.state.imagePath,alt:"\u1ea2nh",height:"250",width:"250"})):null),l.a.createElement("div",{style:{flex:1}},l.a.createElement("h3",null," K\u1ebft qu\u1ea3 "),this.state.isProcess?this.renderResult():null)))}}]),t}(n.Component),A=Object(f.withStyles)(function(e){return{button:{margin:e.spacing.unit},input:{display:"none"}}})(q),B=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(A,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[111,1,2]]]);
//# sourceMappingURL=main.c75551e3.chunk.js.map